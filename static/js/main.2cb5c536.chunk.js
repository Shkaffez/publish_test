(this.webpackJsonpreact_first_app=this.webpackJsonpreact_first_app||[]).push([[0],{14:function(e,t,n){e.exports={nav:"NavBar_nav__1FfAl",item:"NavBar_item__36rjC",activeLink:"NavBar_activeLink__1I_yQ"}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));var r=n(5),s=n.n(r),a=n(11),i=n(3),c=n(8),o="samurai-network/auth/SET_AUTH_USER_DATA",u="samurai-network/auth/SET_LOGIN_ERROR",l=function(e,t,n,r,s){return{type:o,payload:{userId:e,email:t,login:n,isAuth:r,loginError:s}}},d={userId:null,email:null,login:null,isAuth:!1,loginError:void 0},j=function(){return function(){var e=Object(a.a)(s.a.mark((function e(t){var n,r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.authMe();case 2:0===(n=e.sent).resultCode&&(r=n.data,a=r.id,i=r.email,o=r.login,t(l(a,i,o,!0,void 0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t,n){return function(){var r=Object(a.a)(s.a.mark((function r(a){var i,o;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.login(e,t,n);case 2:0===(i=r.sent).resultCode?a(j()):(o=i.messages.length>0?i.messages[0]:"login error",a({type:u,loginError:o}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},f=function(){return function(){var e=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.logout();case 2:0===e.sent.resultCode&&t(l(null,null,null,!1,void 0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(i.a)(Object(i.a)({},e),t.payload);case u:return Object(i.a)(Object(i.a)({},e),{},{loginError:t.loginError});default:return e}}},24:function(e,t,n){e.exports={friends:"Friends_friends__Xng1T",friendLinks:"Friends_friendLinks__3j5Pw",wrapper:"Friends_wrapper__h3nPs",name:"Friends_name__11T80"}},25:function(e,t,n){e.exports={profile__img:"ProfileInfo_profile__img__3RJKs",item:"ProfileInfo_item__2Ijtq",userAvatar:"ProfileInfo_userAvatar__31AhW",profileWrapper:"ProfileInfo_profileWrapper__3US6P"}},39:function(e,t,n){e.exports={userAvatar:"paginator_userAvatar__hvvdF",selected:"paginator_selected__2c7kq",paginatorContainer:"paginator_paginatorContainer__34ndB"}},40:function(e,t,n){e.exports={userAvatar:"Users_userAvatar__2Pkbu",selected:"Users_selected__StRz-",usersContainer:"Users_usersContainer__1rhp1"}},41:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__3CviU"}},42:function(e,t,n){e.exports={header:"Header_header__2pmSh",login_block:"Header_login_block__1S-g7"}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),s=(n(1),n(35)),a=function(e){return Object(r.jsx)(s.b,{onSubmit:e.onSubmit,render:function(e){var t=e.handleSubmit;e.reset;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("div",{children:Object(r.jsx)(s.a,{name:"textArea",component:"textarea",type:"text"})}),Object(r.jsx)("button",{children:"submit"})]})}})}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(23),s=n(3),a="ADD-MESSAGE",i=function(e){return{type:"ADD-MESSAGE",message:e}},c={dialogs:[{id:1,name:"Ivan"},{id:2,name:"Zlata"},{id:3,name:"Den"},{id:4,name:"Foksi"},{id:5,name:"Taldom"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"I'm fine"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:var n={id:parseInt(e.messages[e.messages.length-1].id+1),message:t.message};return Object(s.a)(Object(s.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});default:return e}}},58:function(e,t,n){e.exports={item:"Post_item__3wN0-"}},65:function(e,t,n){},66:function(e,t,n){},8:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(57),s=n.n(r).a.create({withCredentials:!0,headers:{"API-KEY":"dca62038-4b8e-42fe-a354-95d74ec414b1"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),a={getUsers:function(e,t){return s.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(e,"&count=").concat(t),{withCredentials:!0}).then((function(e){return e.data}))},follow:function(e){return s.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return s.delete("follow/".concat(e)).then((function(e){return e.data}))}},i={authMe:function(){return s.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return s.delete("/auth/login").then((function(e){return e.data}))}},c={getProfile:function(e){return s.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return s.get("profile/status/"+e).then((function(e){return e.data}))},updateStatus:function(e){return s.put("profile/status/",{status:e}).then((function(e){return e.data}))}}},95:function(e,t,n){"use strict";n.r(t);var r=n(0),s=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,98)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))},a=n(1),i=n.n(a),c=n(30),o=n.n(c),u=(n(65),n(17)),l=n(18),d=n(20),j=n(19),p=(n(66),n(6)),f=n(7),b=n(3),h=n(22),g="INITIALIZED_SUCCSESS",O={isInitialized:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(b.a)(Object(b.a)({},e),{},{isInitialized:!0});default:return e}},v=n(14),x=n.n(v),w=n(10),P=function(){return Object(r.jsxs)("nav",{className:x.a.nav,children:[Object(r.jsx)("div",{className:x.a.item,children:Object(r.jsx)(w.b,{to:"/profile",activeClassName:x.a.activeLink,children:"Profile"})}),Object(r.jsx)("div",{className:x.a.item,children:Object(r.jsx)(w.b,{to:"/dialogs",activeClassName:x.a.activeLink,children:"Messages"})}),Object(r.jsx)("div",{className:x.a.item,children:Object(r.jsx)(w.b,{to:"/users",activeClassName:x.a.activeLink,children:"Users"})}),Object(r.jsx)("div",{className:x.a.item,children:Object(r.jsx)(w.b,{to:"/login",activeClassName:x.a.activeLink,children:"Login"})}),Object(r.jsx)("div",{className:x.a.item,children:Object(r.jsx)("a",{href:"#",children:"News"})}),Object(r.jsx)("div",{className:x.a.item,children:Object(r.jsx)("a",{href:"#",children:"Music"})}),Object(r.jsx)("div",{className:x.a.item,children:Object(r.jsx)("a",{href:"#",children:"Settings"})})]})},_=n.p+"static/media/Spinner-1s-200px.7bf174a8.svg",S=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:_,alt:"preloader"})})},I=n(24),k=n.n(I),y=function(e){return Object(r.jsxs)("div",{className:k.a.wrapper,children:[Object(r.jsx)("img",{src:e.avatarSrc,alt:"ava"}),Object(r.jsx)("div",{className:k.a.name,children:e.name})]})},C=function(e){var t=e.friendLink.map((function(e){return Object(r.jsx)(y,{avatarSrc:e.avatarSrc,name:e.name},e.id)}));return Object(r.jsxs)("div",{className:k.a.friends,children:[Object(r.jsx)("h3",{children:"Friends"}),Object(r.jsx)("div",{className:k.a.friendLinks,children:t})]})},N=Object(f.b)((function(e){return{friendLink:e.sideBar.friendLink}}),(function(e){return{}}))(C),A=n(5),E=n.n(A),T=n(11),z=n(23),F=n(8),L=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(b.a)(Object(b.a)({},e),r):e}))},U="samurai-network/users/FOLLOW",D="samurai-network/users/UNFOLLOW",M="samurai-network/users/SET_USERS",G="samurai-network/users/SET_CURRENT_PAGE",R="samurai-network/users/SET_TOTAL_USERS_COUNT",q="samurai-network/users/TOGGLE_IS_FETCHING",H="samurai-network/users/TOGGLE_FOLLOWING_IN_PROGRESS",B=function(e){return{type:U,userId:e}},X=function(e){return{type:D,userId:e}},W=function(e){return{type:M,users:e}},Z=function(e){return{type:q,isFetching:e}},J=function(e,t){return{type:H,isFetching:e,userId:t}},K={users:[],pageSize:10,totalItemsCount:0,currentPage:1,isFetching:!1,followingInProgress:[],portionSize:10},V=function(){var e=Object(T.a)(E.a.mark((function e(t,n,r,s){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(J(!0,t)),e.next=3,r(t);case 3:0===e.sent.resultCode&&n(s(t)),n(J(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(b.a)(Object(b.a)({},e),{},{users:L(e.users,t.userId,"id",{followed:!0})});case D:return Object(b.a)(Object(b.a)({},e),{},{users:L(e.users,t.userId,"id",{followed:!1})});case M:return Object(b.a)(Object(b.a)({},e),{},{users:t.users});case R:return Object(b.a)(Object(b.a)({},e),{},{totalItemsCount:t.totalCount});case G:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.pageNumper});case q:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case H:return Object(b.a)(Object(b.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(z.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Y=n(32),$=n(29),ee=n(39),te=n.n(ee),ne=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);var i=Math.ceil(t/e.portionSize),c=Object(a.useState)(1),o=Object($.a)(c,2),u=o[0],l=o[1],d=(u-1)*e.portionSize+1,j=u*e.portionSize;return Object(r.jsxs)("div",{className:te.a.paginatorContainer,children:[u>1&&Object(r.jsx)("button",{onClick:function(){l(u-1)},children:"PREV"}),n.filter((function(e){return e>=d&&e<=j})).map((function(t){return Object(r.jsx)("span",{className:t===e.currentPage?te.a.selected:void 0,onClick:function(n){e.onPageChanged(t)},children:t},t.toString())})),u<i&&Object(r.jsx)("button",{onClick:function(){l(u+1)},children:"NEXT"})]})},re=n(40),se=n.n(re),ae=n.p+"static/media/user.52ab533a.jpg",ie=function(e){var t=e.user,n=e.followingInProgress,s=e.follow,a=e.unfollow;Object(Y.a)(e,["user","followingInProgress","follow","unfollow"]);return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:se.a.usersContainer,children:[Object(r.jsx)("div",{children:Object(r.jsx)(w.b,{to:"/profile/"+t.id,children:Object(r.jsx)("img",{src:t.photos.small||ae,alt:"avatar",className:se.a.userAvatar})})}),t.followed?Object(r.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"follow"}):Object(r.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:"unfollow"}),Object(r.jsx)("div",{children:t.name}),Object(r.jsx)("div",{children:t.status}),Object(r.jsx)("div",{children:"user.location.city"}),Object(r.jsx)("div",{children:"user.location.country"})]},t.id)})},ce=function(e){var t=e.totalItemsCount,n=e.pageSize,s=e.currentPage,a=e.onPageChanged,i=e.portionSize,c=Object(Y.a)(e,["totalItemsCount","pageSize","currentPage","onPageChanged","portionSize"]);return Object(r.jsxs)("div",{children:[Object(r.jsx)(ne,{totalItemsCount:t,pageSize:n,currentPage:s,onPageChanged:a,portionSize:i}),c.users.map((function(e){return Object(r.jsx)(ie,{user:e,followingInProgress:c.followingInProgress,follow:c.follow,unfollow:c.unfollow},e.id)}))]})},oe=function(e){return e.usersPage.users},ue=function(e){return e.usersPage.pageSize},le=function(e){return e.usersPage.totalItemsCount},de=function(e){return e.usersPage.currentPage},je=function(e){return e.usersPage.isFetching},pe=function(e){return e.usersPage.followingInProgress},fe=function(e){return e.usersPage.portionSize},be=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.setUser([]),e.props.setCurrentPage(t),e.props.requesUsers(t,e.props.pageSize)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){0===this.props.users.length&&this.props.requesUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[this.props.isFetching?Object(r.jsx)(S,{}):null,Object(r.jsx)(ce,{totalItemsCount:this.props.totalItemsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unfollowSuccess:this.props.unfollowSuccess,followSuccess:this.props.followSuccess,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow,portionSize:this.props.portionSize})]})}}]),n}(i.a.Component),he=Object(f.b)((function(e){return{users:oe(e),pageSize:ue(e),totalItemsCount:le(e),currentPage:de(e),isFetching:je(e),followingInProgress:pe(e),portionSize:fe(e)}}),{followSuccess:B,unfollowSuccess:X,setUser:W,setCurrentPage:function(e){return{type:G,pageNumper:e}},toggleFollowingInPropress:J,requesUsers:function(e,t){return function(){var n=Object(T.a)(E.a.mark((function n(r){var s;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Z(!0)),n.next=3,F.c.getUsers(e,t);case 3:s=n.sent,r(Z(!1)),r(W(s.items)),r((a=s.totalCount,{type:R,totalCount:a}));case 7:case"end":return n.stop()}var a}),n)})));return function(e){return n.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(T.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:V(e,n,F.c.follow.bind(F.c),B);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(T.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:V(e,n,F.c.unfollow.bind(F.c),X);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(be),ge="samurai-network/postPage/ADD_POST",Oe="samurai-network/postPage/UPDATE_NEW_POST_TEXT",me="samurai-network/postPage/SET_USER_PROFILE",ve="samurai-network/postPage/SET_STATUS",xe=function(e){return{type:ve,status:e}},we={posts:[{id:1,message:"Hi, how are you?"},{id:2,message:"It is my first post"}],userProfile:null,status:""},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:var n={id:parseInt(e.posts[e.posts.length-1].id+1),message:t.postText};return Object(b.a)(Object(b.a)({},e),{},{posts:[].concat(Object(z.a)(e.posts),[n])});case Oe:return Object(b.a)(Object(b.a)({},e),{},{newPostText:t.newText});case me:return Object(b.a)(Object(b.a)({},e),{},{userProfile:t.userProfile});case ve:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});default:return e}},_e=n(53),Se=n(41),Ie=n.n(Se),ke=n(58),ye=n.n(ke),Ce=function(e){return Object(r.jsxs)("div",{className:ye.a.item,children:[Object(r.jsx)("img",{alt:"",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT_zHnsoD29FF3uZIXlcdhTNGrM7jAEzNuaEg&usqp=CAU"}),e.message]})},Ne=i.a.memo((function(e){var t=e.posts.map((function(e){return Object(r.jsx)(Ce,{message:e.message},e.id)}));return Object(r.jsxs)("div",{className:Ie.a.myPosts,children:[Object(r.jsx)("h3",{children:"My posts"}),Object(r.jsx)(_e.a,{onSubmit:function(t){e.addPost(t.textArea)}}),Object(r.jsx)("div",{children:"New post"}),Object(r.jsx)("div",{className:Ie.a.posts,children:t})]})})),Ae=Object(f.b)((function(e){return{posts:e.postsPage.posts,newPostText:e.postsPage.newPostText}}),{addPost:function(e){return{type:ge,postText:e}}})(Ne),Ee=n(25),Te=n.n(Ee),ze=n.p+"static/media/Blue-style.f4a501e4.jpg",Fe=function(e){var t=Object(a.useState)(!1),n=Object($.a)(t,2),s=n[0],i=n[1],c=Object(a.useState)(e.status),o=Object($.a)(c,2),u=o[0],l=o[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return Object(r.jsx)("div",{children:s?Object(r.jsx)("div",{children:Object(r.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(u)},value:u})}):Object(r.jsx)("div",{children:Object(r.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status?e.status:"..."})})})},Le=function(e){return e.userProfile?Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:Te.a.profile__img,alt:"",src:ze}),Object(r.jsxs)("div",{className:Te.a.profileWrapper,children:[Object(r.jsx)("img",{src:e.userProfile.photos.small||ae,alt:"User Avatar",className:Te.a.userAvatar}),Object(r.jsx)("div",{className:Te.a.item,children:e.userProfile.fullName}),Object(r.jsx)(Fe,{status:e.status,updateStatus:e.updateStatus}),e.userProfile.lookingForAJob&&Object(r.jsx)("div",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b!"}),Object(r.jsxs)("div",{className:Te.a.contacs,children:[e.userProfile.contacts==={}&&Object(r.jsx)("h3",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"}),Object(r.jsxs)("ul",{children:[e.userProfile.contacts.github&&Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{children:"github"}),e.userProfile.contacts.github]}),e.userProfile.contacts.vk&&Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{children:"vk"}),e.userProfile.contacts.vk]}),e.userProfile.contacts.facebook&&Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{children:"facebook"}),e.userProfile.contacts.facebook]}),e.userProfile.contacts.instagram&&Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{children:"instagram"}),e.userProfile.contacts.instagram]}),e.userProfile.contacts.twitter&&Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{children:"twitter"}),e.userProfile.contacts.twitter]}),e.userProfile.contacts.website&&Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{children:"website"}),e.userProfile.contacts.website]}),e.userProfile.contacts.youtube&&Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{children:"youtube"}),e.userProfile.contacts.youtube]}),e.userProfile.contacts.mainLink&&Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{children:"mainLink"}),e.userProfile.contacts.mainLink]})]})]})]})]}):Object(r.jsx)(S,{})},Ue=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(Le,{userProfile:e.userProfile,status:e.status,updateStatus:e.updateStatus}),Object(r.jsx)(Ae,{})]})},De=n(16),Me=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=void 0===this.props.match.params.userId?this.props.userId:this.props.match.params.userId;e||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.requesUserstatus(e)}},{key:"render",value:function(){return Object(r.jsx)(Ue,Object(b.a)(Object(b.a)({},this.props),{},{status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(i.a.Component),Ge=Object(De.d)(Object(f.b)((function(e){return{userProfile:e.postsPage.userProfile,status:e.postsPage.status,userId:e.auth.userId}}),{getUserProfile:function(e){return function(){var t=Object(T.a)(E.a.mark((function t(n){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.b.getProfile(e);case 2:r=t.sent,n({type:me,userProfile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},requesUserstatus:function(e){return function(){var t=Object(T.a)(E.a.mark((function t(n){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.b.getStatus(e);case 2:r=t.sent,n(xe(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(T.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.b.updateStatus(e);case 2:0===t.sent.resultCode&&n(xe(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),p.f)(Me),Re=n(42),qe=n.n(Re),He=function(e){return Object(r.jsx)("header",{className:qe.a.header,children:Object(r.jsx)("div",{className:qe.a.login_block,children:e.login?Object(r.jsxs)("div",{children:[e.login," ",Object(r.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(r.jsx)(w.b,{to:"/login",children:"Login"})})})},Be=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(He,Object(b.a)({},this.props))}}]),n}(i.a.Component),Xe=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:h.d})(Be),We=i.a.lazy((function(){return n.e(4).then(n.bind(null,100))})),Ze=i.a.lazy((function(){return n.e(3).then(n.bind(null,99))})),Je=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.isInitialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(Xe,{}),Object(r.jsx)(P,{}),Object(r.jsx)(N,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(p.b,{path:"/dialogs",render:function(){return Object(r.jsx)(Ze,{})}}),Object(r.jsx)(p.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(Ge,{})}}),Object(r.jsx)(p.b,{path:"/users",render:function(){return Object(r.jsx)(he,{})}}),Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(r.jsx)(p.b,{path:"/login",render:function(){return Object(r.jsx)(We,{})}})})]})]}):Object(r.jsx)(S,{})}}]),n}(i.a.Component),Ke=Object(f.b)((function(e){return{isInitialized:e.app.isInitialized}}),{initializeApp:function(){return function(e){e(Object(h.a)()).then((function(){e({type:g})}))}}})(Je),Ve=n(54),Qe={friendLink:[{name:"Zlata",avatarSrc:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT_zHnsoD29FF3uZIXlcdhTNGrM7jAEzNuaEg&usqp=CAU",id:1},{name:"Den",avatarSrc:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT_zHnsoD29FF3uZIXlcdhTNGrM7jAEzNuaEg&usqp=CAU",id:2},{name:"Ivan",avatarSrc:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT_zHnsoD29FF3uZIXlcdhTNGrM7jAEzNuaEg&usqp=CAU",id:3}]},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;return e},$e=n(59),et=Object(De.c)({dialogsPage:Ve.b,postsPage:Pe,sideBar:Ye,usersPage:Q,auth:h.b,app:m}),tt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||De.d,nt=Object(De.e)(et,tt(Object(De.a)($e.a)));o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(w.a,{children:Object(r.jsx)(f.a,{store:nt,children:Object(r.jsx)(Ke,{})})})}),document.getElementById("root")),window.state=nt.getState(),s()}},[[95,1,2]]]);
//# sourceMappingURL=main.2cb5c536.chunk.js.map